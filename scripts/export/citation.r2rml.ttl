@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix hito: <http://hitontology.eu/ontology/>.
@prefix dcterms: <http://purl.org/dc/terms/>.
@prefix dce: <http://purl.org/dc/elements/1.1/>.
@prefix dct: <http://purl.org/dc/terms/>.
@prefix bb: <http://www.snik.eu/ontology/bb/>.

<#CitationMap>
    rr:logicalTable [ rr:tableName "citation" ];
    rr:subjectMap [
        # using just "{suffix}" does not work correctly in OnTop, even with @base and empty @prefix set
        rr:template "http://hitontology.eu/ontology/{suffix}";
# uri, termType
    #    rr:class hito:Citation;
    ];
    rr:predicateObjectMap [
        rr:predicate rdfs:label;
        rr:objectMap [ rr:column "label"; rr:language "en" ];
    ];
    rr:predicateObjectMap [
        rr:predicate rdfs:comment;
        rr:objectMap [ rr:column "comment" ; rr:language "en" ];
    ];
    rr:predicateObjectMap [
        rr:predicate rdf:type;
        rr:objectMap [ rr:template "http://hitontology.eu/ontology/{type}Citation" ];
    ];
    rr:predicateObjectMap [
        # Fehler bei Ontop: findet {type} aus Tabelle "citation" nicht
        #rr:predicateMap [rr:template "http://hitontology.eu/ontology/{type}Citation"]; 
        rr:predicate hito:example123; 
        rr:objectMap [
            rr:parentTriplesMap <#CitationHasClassifiedMap>;
            rr:joinCondition [
                rr:child "suffix";
                rr:parent "citation_suffix";
            ];
        ];
    ].

<#SoftwareProductMap>
    rr:logicalTable [ rr:tableName "softwareproduct" ];
    rr:subjectMap [
        rr:template "http://hitontology.eu/ontology/{suffix}";
        # is defined elsewhere so no class here
    ];
    rr:predicateObjectMap [
        rr:predicate hito:enterpriseFunction;
        rr:objectMap [
            rr:parentTriplesMap <#CitationMap>;
            rr:joinCondition [
                rr:child "suffix";
                rr:parent "swp_suffix";
            ];
        ];
    ].

<#CitationHasClassifiedMap>
    rr:logicalTable [ rr:tableName "citation_has_classified" ];
    rr:subjectMap [ rr:template "http://hitontology.eu/ontology/{classified_suffix}"; ].
   # rr:predicateObjectMap [
   #     rr:predicateMap [ rr:template "http://hitontology.eu/ontology/{classified_suffix}Citation" ];
   #     rr:objectMap [ rr:template "http://hitontology.eu/ontology/{classified_suffix}Citation" ];
   # ].

